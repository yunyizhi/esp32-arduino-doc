<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-03-09T17:53:56.8401463"><title>psram | Esp32 Arduino API参考</title><script type="application/json" id="virtual-toc-data">[{"id":"board-has-psram","level":0,"title":"BOARD_HAS_PSRAM","anchor":"#board-has-psram"},{"id":"board-build-arduino-memory-type","level":0,"title":"board_build.arduino.memory_type","anchor":"#board-build-arduino-memory-type"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="psram | Esp32 Arduino API参考"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Esp32 Arduino API参考 Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="psram.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="psram | Esp32 Arduino API参考"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "psram.html#webpage",
    "url": "psram.html",
    "name": "psram | Esp32 Arduino API参考",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "/#website",
    "url": "/",
    "name": "Esp32 Arduino API参考 Help"
}</script><!-- End Schema.org --></head><body data-id="psram" data-main-title="psram" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="配置项///sdk_preface.md|SDK配置"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Esp32 Arduino API参考  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="psram" id="psram.md">psram</h1><section class="chapter"><h2 id="board-has-psram" data-toc="board-has-psram">BOARD_HAS_PSRAM</h2><p id="40dc67b1_2">这里仅仅定义<code class="code" id="40dc67b1_3">-D BOARD_HAS_PSRAM</code>即可开启相关功能。但很多情况下仅仅开启psram不能正确初始化它。 我们需要正确指定psram模式属于哪个组合才能加载到对应文件夹下载的sdk配置文件。</p></section><section class="chapter"><h2 id="board-build-arduino-memory-type" data-toc="board-build-arduino-memory-type">board_build.arduino.memory_type</h2><p id="40dc67b1_4">在platformio中从下述目录找到每种芯片的不同psram和flash模式组合的sdk配置文件，用于正确初始化psram和flash。</p><div class="tabs" id="40dc67b1_5"><div class="tabs__content" data-gtm="tab" id="40dc67b1_6" data-title="Windows"><div class="code-block" data-lang="plaintext" data-title="Plain Text">C:\Users\用户名\.platformio\packages\framework-arduinoespressif32\tools\sdk</div></div><div class="tabs__content" data-gtm="tab" id="40dc67b1_8" data-title="Linux"><div class="code-block" data-lang="plaintext" data-title="Plain Text">/home/用户名/.platformio/packages/framework-arduinoespressif32/tools/sdk/
          </div></div></div><p> 在该目录可以找到具体芯片类型的，文件夹。选择一个芯片类型的文件夹如:esp32s3 则会包含如下的文件夹: </p><div class="code-block" data-lang="plaintext">
lustre@VivoBook-linux:~/.platformio/packages/framework-arduinoespressif32/tools/sdk/esp32s3$ ls
bin      dio_qspi  ld   opi_opi   qio_opi   sdkconfig
dio_opi  include   lib  opi_qspi  qio_qspi
</div><p id="40dc67b1_11">例如: <code class="code" id="40dc67b1_12">dio_qspi</code> <code class="code" id="40dc67b1_13">opi_opi</code> <code class="code" id="40dc67b1_14">qio_opi</code> <code class="code" id="40dc67b1_15">dio_opi</code> <code class="code" id="40dc67b1_16">opi_qspi</code> <code class="code" id="40dc67b1_17">qio_qspi</code> 都是<code class="code" id="40dc67b1_18">board_build.arduino.memory_type</code>的参数 如果不清楚芯片或模组的flash以及psram模式，参考乐鑫官方的数据手册。</p><p id="40dc67b1_19">例如:esp32-wrover-cam的flash 模式qio， prsam模式qspi</p><div class="code-block" data-lang="ini">
[env:esp32-s3-devkitc-1]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
upload_speed = 921600
board_build.arduino.memory_type = qio_qspi
build_flags =
    -D BOARD_HAS_PSRAM
</div><aside class="prompt" data-type="tip" data-title="" id="40dc67b1_21"><p id="40dc67b1_22">需要完整编译并烧录和监控一次，才会触发下载相关开发板的各种依赖包。</p><p id="40dc67b1_23">可使用命令<code class="code" id="40dc67b1_24">pio run -t upload -t monitor</code>或者在任务树上点击Upload And Monitor</p></aside></section><div class="last-modified">Last modified: 09 三月 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="log-config.html" class="navigation-links__prev">日志配置</a><a href="usb.html" class="navigation-links__next">USB配置</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>